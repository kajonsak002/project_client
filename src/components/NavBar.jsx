import React, { useState } from "react";
import { Link } from "react-router-dom";

function NavBar() {
  const [isMenuOpen, setIsMenuOpen] = useState(false);

  const toggleMenu = () => {
    setIsMenuOpen(!isMenuOpen);
  };

  const menu = [
    {
      name: "หน้าเเรก",
      path: "/",
    },
    {
      name: "คู่มือ",
      path: "book",
    },
    {
      name: "ราคากลาง",
      path: "price",
    },
    {
      name: "ฟาร์มต่างๆ",
      path: "farmList",
    },
  ];

  return (
    <nav className="sticky top-0 z-50">
      <div className="flex justify-between p-4 bg-white drop-shadow-md items-center">
        <div className="logo">
          <p className="text-2xl font-bold">
            <svg
              width="269"
              height="50"
              viewBox="0 0 269 50"
              fill="none"
              xmlns="http://www.w3.org/2000/svg">
              <path
                d="M26.5625 7.15006C18.8867 7.15006 12.3926 12.8969 10.1855 20.8196C13.4668 18.9226 17.168 17.8625 21.0938 17.8625H29.6875C30.5469 17.8625 31.25 18.666 31.25 19.648C31.25 20.6299 30.5469 21.4334 29.6875 21.4334H28.125H21.0938C19.4727 21.4334 17.9004 21.6454 16.3867 22.0359C13.8574 22.6943 11.5039 23.866 9.41406 25.4617C3.74023 29.7802 0 37.1562 0 45.5365V47.3219C0 48.806 1.04492 50 2.34375 50C3.64258 50 4.6875 48.806 4.6875 47.3219V45.5365C4.6875 40.1021 6.70898 35.2145 9.94141 31.7888C11.875 40.2137 18.584 46.4292 26.5625 46.4292H26.6602C39.5605 46.3511 50 31.8223 50 13.9123C50 9.15865 49.2676 4.63932 47.9395 0.566342C47.6855 -0.203618 46.6992 -0.170141 46.3574 0.555184C44.5215 4.48309 40.8887 7.15006 36.7188 7.15006H26.5625Z"
                fill="#16A34A"
              />
              <path
                d="M80.5568 24.2727C80.5568 26.1761 80.196 27.7955 79.4744 29.1307C78.7585 30.4659 77.7813 31.4858 76.5426 32.1903C75.3097 32.8892 73.9233 33.2386 72.3835 33.2386C70.8324 33.2386 69.4403 32.8864 68.2074 32.1818C66.9744 31.4773 66 30.4574 65.2841 29.1222C64.5682 27.7869 64.2102 26.1705 64.2102 24.2727C64.2102 22.3693 64.5682 20.75 65.2841 19.4148C66 18.0795 66.9744 17.0625 68.2074 16.3636C69.4403 15.6591 70.8324 15.3068 72.3835 15.3068C73.9233 15.3068 75.3097 15.6591 76.5426 16.3636C77.7813 17.0625 78.7585 18.0795 79.4744 19.4148C80.196 20.75 80.5568 22.3693 80.5568 24.2727ZM76.8153 24.2727C76.8153 23.0398 76.6307 22 76.2614 21.1534C75.8977 20.3068 75.3835 19.6648 74.7188 19.2273C74.054 18.7898 73.2756 18.571 72.3835 18.571C71.4915 18.571 70.7131 18.7898 70.0483 19.2273C69.3835 19.6648 68.8665 20.3068 68.4972 21.1534C68.1335 22 67.9517 23.0398 67.9517 24.2727C67.9517 25.5057 68.1335 26.5455 68.4972 27.392C68.8665 28.2386 69.3835 28.8807 70.0483 29.3182C70.7131 29.7557 71.4915 29.9744 72.3835 29.9744C73.2756 29.9744 74.054 29.7557 74.7188 29.3182C75.3835 28.8807 75.8977 28.2386 76.2614 27.392C76.6307 26.5455 76.8153 25.5057 76.8153 24.2727ZM83.2905 33V15.5455H90.1768C91.495 15.5455 92.62 15.7812 93.5518 16.2528C94.4893 16.7187 95.2024 17.3807 95.6911 18.2386C96.1854 19.0909 96.4325 20.0937 96.4325 21.2472C96.4325 22.4062 96.1825 23.4034 95.6825 24.2386C95.1825 25.0682 94.4581 25.7045 93.5092 26.1477C92.5661 26.5909 91.424 26.8125 90.0831 26.8125H85.4723V23.8466H89.4865C90.1911 23.8466 90.7763 23.75 91.2422 23.5568C91.7081 23.3636 92.0547 23.0739 92.282 22.6875C92.5149 22.3011 92.6314 21.821 92.6314 21.2472C92.6314 20.6676 92.5149 20.179 92.282 19.7812C92.0547 19.3835 91.7053 19.0824 91.2337 18.8778C90.7678 18.6676 90.1797 18.5625 89.4695 18.5625H86.9808V33H83.2905ZM92.7166 25.0568L97.0547 33H92.9808L88.7365 25.0568H92.7166ZM110.614 21.1875C110.495 20.7727 110.327 20.4062 110.112 20.0881C109.896 19.7642 109.631 19.4915 109.319 19.2699C109.012 19.0426 108.66 18.8693 108.262 18.75C107.87 18.6307 107.435 18.571 106.958 18.571C106.066 18.571 105.282 18.7926 104.606 19.2358C103.935 19.679 103.413 20.3239 103.038 21.1705C102.663 22.0114 102.475 23.0398 102.475 24.2557C102.475 25.4716 102.66 26.5057 103.029 27.358C103.398 28.2102 103.921 28.8608 104.597 29.3097C105.273 29.7528 106.072 29.9744 106.992 29.9744C107.827 29.9744 108.54 29.8267 109.131 29.5312C109.728 29.2301 110.183 28.8068 110.495 28.2614C110.813 27.7159 110.972 27.071 110.972 26.3267L111.722 26.4375H107.222V23.6591H114.526V25.858C114.526 27.392 114.202 28.7102 113.555 29.8125C112.907 30.9091 112.015 31.7557 110.879 32.3523C109.742 32.9432 108.441 33.2386 106.975 33.2386C105.339 33.2386 103.901 32.8778 102.663 32.1562C101.424 31.429 100.458 30.3977 99.7649 29.0625C99.0774 27.7216 98.7337 26.1307 98.7337 24.2898C98.7337 22.875 98.9382 21.6136 99.3473 20.5057C99.7621 19.392 100.342 18.4489 101.086 17.6761C101.83 16.9034 102.697 16.3153 103.685 15.9119C104.674 15.5085 105.745 15.3068 106.898 15.3068C107.887 15.3068 108.808 15.4517 109.66 15.7415C110.512 16.0256 111.268 16.429 111.927 16.9517C112.592 17.4744 113.134 18.0966 113.555 18.8182C113.975 19.5341 114.245 20.3239 114.364 21.1875H110.614ZM119.768 33H115.813L121.839 15.5455H126.594L132.612 33H128.657L124.285 19.5341H124.148L119.768 33ZM119.521 26.1392H128.862V29.0199H119.521V26.1392ZM149.312 15.5455V33H146.124L138.531 22.0142H138.403V33H134.712V15.5455H137.951L145.485 26.5227H145.638V15.5455H149.312ZM156.051 15.5455V33H152.361V15.5455H156.051ZM174.488 21.6562H170.755C170.687 21.1733 170.548 20.7443 170.337 20.3693C170.127 19.9886 169.857 19.6648 169.528 19.3977C169.198 19.1307 168.817 18.9261 168.386 18.7841C167.96 18.642 167.496 18.571 166.996 18.571C166.093 18.571 165.306 18.7955 164.636 19.2443C163.965 19.6875 163.445 20.3352 163.076 21.1875C162.707 22.0341 162.522 23.0625 162.522 24.2727C162.522 25.517 162.707 26.5625 163.076 27.4091C163.451 28.2557 163.974 28.8949 164.644 29.3267C165.315 29.7585 166.09 29.9744 166.971 29.9744C167.465 29.9744 167.923 29.9091 168.343 29.7784C168.769 29.6477 169.147 29.4574 169.477 29.2074C169.806 28.9517 170.079 28.642 170.295 28.2784C170.516 27.9148 170.67 27.5 170.755 27.0341L174.488 27.0511C174.391 27.8523 174.15 28.625 173.763 29.3693C173.383 30.108 172.869 30.7699 172.221 31.3551C171.579 31.9347 170.812 32.3949 169.92 32.7358C169.033 33.071 168.031 33.2386 166.911 33.2386C165.354 33.2386 163.962 32.8864 162.735 32.1818C161.513 31.4773 160.548 30.4574 159.837 29.1222C159.133 27.7869 158.781 26.1705 158.781 24.2727C158.781 22.3693 159.138 20.75 159.854 19.4148C160.57 18.0795 161.542 17.0625 162.769 16.3636C163.996 15.6591 165.377 15.3068 166.911 15.3068C167.923 15.3068 168.86 15.4489 169.724 15.733C170.593 16.017 171.363 16.4318 172.033 16.9773C172.704 17.517 173.249 18.179 173.67 18.9631C174.096 19.7472 174.369 20.6449 174.488 21.6562ZM194.263 21.1875C194.143 20.7727 193.976 20.4062 193.76 20.0881C193.544 19.7642 193.28 19.4915 192.967 19.2699C192.661 19.0426 192.308 18.8693 191.911 18.75C191.518 18.6307 191.084 18.571 190.607 18.571C189.714 18.571 188.93 18.7926 188.254 19.2358C187.584 19.679 187.061 20.3239 186.686 21.1705C186.311 22.0114 186.124 23.0398 186.124 24.2557C186.124 25.4716 186.308 26.5057 186.678 27.358C187.047 28.2102 187.57 28.8608 188.246 29.3097C188.922 29.7528 189.72 29.9744 190.641 29.9744C191.476 29.9744 192.189 29.8267 192.78 29.5312C193.376 29.2301 193.831 28.8068 194.143 28.2614C194.462 27.7159 194.621 27.071 194.621 26.3267L195.371 26.4375H190.871V23.6591H198.175V25.858C198.175 27.392 197.851 28.7102 197.203 29.8125C196.555 30.9091 195.663 31.7557 194.527 32.3523C193.391 32.9432 192.089 33.2386 190.624 33.2386C188.987 33.2386 187.55 32.8778 186.311 32.1562C185.072 31.429 184.107 30.3977 183.413 29.0625C182.726 27.7216 182.382 26.1307 182.382 24.2898C182.382 22.875 182.587 21.6136 182.996 20.5057C183.411 19.392 183.99 18.4489 184.734 17.6761C185.479 16.9034 186.345 16.3153 187.334 15.9119C188.322 15.5085 189.393 15.3068 190.547 15.3068C191.536 15.3068 192.456 15.4517 193.308 15.7415C194.161 16.0256 194.916 16.429 195.575 16.9517C196.24 17.4744 196.783 18.0966 197.203 18.8182C197.624 19.5341 197.893 20.3239 198.013 21.1875H194.263ZM211.728 15.5455H215.418V26.8807C215.418 28.1534 215.114 29.267 214.506 30.2216C213.904 31.1761 213.06 31.9205 211.975 32.4545C210.89 32.983 209.626 33.2472 208.183 33.2472C206.734 33.2472 205.467 32.983 204.381 32.4545C203.296 31.9205 202.452 31.1761 201.85 30.2216C201.248 29.267 200.947 28.1534 200.947 26.8807V15.5455H204.637V26.5653C204.637 27.2301 204.782 27.821 205.072 28.3381C205.367 28.8551 205.782 29.2614 206.316 29.5568C206.85 29.8523 207.472 30 208.183 30C208.898 30 209.521 29.8523 210.049 29.5568C210.583 29.2614 210.995 28.8551 211.285 28.3381C211.58 27.821 211.728 27.2301 211.728 26.5653V15.5455ZM222.145 15.5455V33H218.455V15.5455H222.145ZM225.181 33V15.5455H228.871V29.9574H236.354V33H225.181ZM244.986 33H238.798V15.5455H245.037C246.793 15.5455 248.304 15.8949 249.571 16.5938C250.838 17.2869 251.813 18.2841 252.494 19.5852C253.182 20.8864 253.526 22.4432 253.526 24.2557C253.526 26.0739 253.182 27.6364 252.494 28.9432C251.813 30.25 250.832 31.2528 249.554 31.9517C248.281 32.6506 246.759 33 244.986 33ZM242.489 29.8381H244.832C245.923 29.8381 246.841 29.6449 247.585 29.2585C248.335 28.8665 248.898 28.2614 249.273 27.4432C249.653 26.6193 249.844 25.5568 249.844 24.2557C249.844 22.9659 249.653 21.9119 249.273 21.0938C248.898 20.2756 248.338 19.6733 247.594 19.2869C246.849 18.9006 245.932 18.7074 244.841 18.7074H242.489V29.8381ZM261.373 30.3409V18.2727H264.424V30.3409H261.373ZM256.864 25.8324V22.7812H268.933V25.8324H256.864Z"
                fill="#166534"
              />
            </svg>
          </p>
        </div>

        <div className="md:hidden">
          <button onClick={toggleMenu} className="p-2">
            <svg
              xmlns="http://www.w3.org/2000/svg"
              className="h-6 w-6"
              fill="none"
              viewBox="0 0 24 24"
              stroke="#16A34A"
              strokeWidth={2}>
              <path
                strokeLinecap="round"
                strokeLinejoin="round"
                d="M4 6h16M4 12h16M4 18h16"
              />
            </svg>
          </button>
        </div>

        <div className="hidden md:flex gap-4">
          {menu.map((item, index) => (
            <div key={index}>
              <Link to={item.path}>{item.name}</Link>
            </div>
          ))}
        </div>

        <div className="hidden md:flex gap-3">
          <div className="btn bg-[#16A34A] text-white rounded-2xl w-[150px] h-[50px] flex items-center justify-center">
            <Link to="login">เข้าสู่ระบบ</Link>
          </div>
          <div className="btn border-[#16A34A] text-[#16A34A] rounded-2xl w-[150px] h-[50px] flex items-center justify-center">
            <Link to="register">ลงทะเบียน</Link>
          </div>
        </div>
      </div>
      {isMenuOpen && (
        <div className="md:hidden bg-white drop-shadow-md">
          <div className="flex flex-col p-4">
            {menu.map((item, index) => (
              <div key={index} className="py-2 border-b border-gray-100">
                <Link to={item.path} onClick={toggleMenu}>
                  {item.name}
                </Link>
              </div>
            ))}
            <div className="flex flex-col gap-3 mt-4">
              <div className="btn bg-[#16A34A] text-white rounded-2xl h-[50px] flex items-center justify-center">
                <Link to="login" onClick={toggleMenu}>
                  เข้าสู่ระบบ
                </Link>
              </div>
              <div className="btn border-[#16A34A] text-[#16A34A] border rounded-2xl h-[50px] flex items-center justify-center">
                <Link to="register" onClick={toggleMenu}>
                  ลงทะเบียน
                </Link>
              </div>
            </div>
          </div>
        </div>
      )}
    </nav>
  );
}

export default NavBar;
